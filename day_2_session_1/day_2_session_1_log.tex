\documentclass[11pt]{beamer}
\usetheme{default} 

\setbeamertemplate{navigation symbols}{} %gets rid of navigation symbols
\setbeamertemplate{footline}{} %gets rid of bottom navigation bars
\setbeamertemplate{footline}[page number]{} %use this for page numbers

\setbeamertemplate{footline}{%
  \raisebox{5pt}{\makebox[\paperwidth]{\hfill\makebox[10pt]{\scriptsize\insertframenumber~~}}}}

\setbeamertemplate{itemize items}[circle] %round bullet points
\setlength\parskip{10pt} % white space between paragraphs

\usepackage{wrapfig}
\usepackage{subfig}
\usepackage{setspace}
\usepackage{enumerate}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[UKenglish]{isodate}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{natbib}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 

% allow drawing arrows
\usetikzlibrary{arrows}
\tikzstyle{arrow}=[draw, -latex] 

% skips
\setlength{\abovecaptionskip}{15pt plus 3pt minus 2pt}
\setlength{\belowcaptionskip}{5pt plus 3pt minus 2pt}
% bracketing shortcuts
\newcommand{\paren}[1]{\left(#1\right)}
\newcommand{\sqbracket}[1]{\left[#1\right]}
\newcommand{\cbracket}[1]{\left\{#1\right\}}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
% set up the argmin operator, argmax
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\myframe}[1]{\begin{frame} \frametitle{#1}}
% New itemize environment, with spaces
\newenvironment{spaceitemize}
{ \begin{itemize}
    \setlength{\itemsep}{10pt}
    \setlength{\parskip}{0pt}
    \setlength{\parsep}{0pt}     }
{ \end{itemize}                  } 

% the preamble
\title{Day 2, Session 1: Logs/Exponentiation}
\author{Brian D. Williamson}
\institute{EPI/BIOST Bootcamp 2017}
\date{25 September 2017}

% Start the document
\begin{document}
% The title page
\begin{frame}
\titlepage
\end{frame}

\section{Introduction}
\myframe{Motivation}
Generally, our goal in a statistical analysis is to \textcolor{blue}{assess an association} between two variables (e.g., smoking and lung cancer). We can do this by investigating whether a \textcolor{green}{summary measure} (e.g., mean, median) of our outcome (e.g., lung cancer) is \textcolor{cyan}{unequal between two groups} differing in our predictor of interest (e.g., smoking).

There are two simple ways to tell if two numbers are unequal: 
\begin{itemize}
\item their difference is not equal to 0, or
\item[]
\item their ratio is not equal to 1.
\end{itemize}

We choose between these based on a variety of criteria, which fall into two general categories: (1) adequately address the scientific question, and (2) gain desirable statistical properties.
\end{frame}

\myframe{Motivation}
Differences:
\vspace{-0.5cm}
\begin{spaceitemize}
\item are \textcolor{blue}{generally easier to understand}, and 
\item are better for describing the \textcolor{cyan}{scientific importance} of many comparisons
\begin{itemize}
\item You probably always want \$1,000,000 more than me, even if I have \$10,000,000 (a ratio of 1.1)
\end{itemize}
\end{spaceitemize}
Ratios work well when working with \textcolor{green}{small numbers} (disclaimer: these numbers are probably only correct to the order of magnitude, but get the point across); for example:
{\fontsize{10pt}{7.2}\selectfont
\begin{itemize}
\item In the US, 60--64 year old current or former smokers have a probability of 0.00296 of being diagnosed with lung cancer during the next year
\item In the US, 60--64 year old never smokers have a probability of 0.000148 of being diagnosed with lung cancer during the next year
\item Difference in incidence rates: 0.002812; ratio of incidence rates: 20!
\end{itemize}
}
\end{frame}

\myframe{Motivation}
Sometimes, the \textcolor{cyan}{scientific mechanism} dictates that \textcolor{blue}{ratios are more generalizeable}:
{\fontsize{10pt}{7.2}\selectfont
\begin{itemize}
\item Interventions or risk factors that affect a rate over time (e.g., HIV incidence)
\item[]
\item Biochemical processes (e.g., rates of absorption, where the rate is proportional to drug concentration) 
\end{itemize}
}

When ratios are scientifically preferred, we can use the \textcolor{red}{logarithm of the ratio} to get back to \textcolor{purple}{comparing differences} (more on this later).
\end{frame}

\myframe{Examples}
Some variables are almost always log transformed:
\begin{itemize}
\item Acidity/alkalinity of an aqueous solution: measured as hydrogen ion concentration, but pH usually reported [$-\log_{10}(\text{H ion conc.})$]
\item[]
\item Concentrations of antibodies or mRNA: these differ by orders of magnitude across people, and within people over time
\end{itemize}

Properties of exponentiation and logarithms come in handy throughout statistics and data analysis; a solid understanding of the basics goes a long way.
\end{frame}

\section{Exponentiation}
\myframe{Exponentiation}
Exponentiation corresponds to repeated multiplication, and is:
\begin{itemize}
\item the second in the order of operations! (P\textcolor{blue}{{\textbf E}}MDAS)
\item[]
\item composed of two numbers: a base, $b$, and an exponent, $n$
\begin{itemize}
\item represented as $b^n = \underbrace{b\times b \times \cdots \times b}_\text{$n$ times}$
\end{itemize}
\end{itemize}

\textcolor{green}{Positive exponents multiply the base} $b$ a number of times given by $n$; \textcolor{cyan}{negative exponents multiply the reciprocal of the base} $b$ $n$ times. For example, $2^2 = 2\times 2$, and $2^{-2} = \left(\frac{1}{2}\right)^2 = \frac{1}{2}\times \frac{1}{2}$.
\end{frame}

\myframe{Properties of exponents}
\begin{itemize}
\item If we multiply two numbers with the same base, we add their exponents
\begin{itemize}
\item $10^3 \times 10^2 = 10^5$; $10^3 \times 10^{-2} = 10^1$
\end{itemize}
\item[]
\item If we raise an exponentiated number to a power, we multiply the exponents; $(b^n)^m = b^{n\times m}$
\item[]
\item The exponent can be a fraction (like $\frac{1}{2}$), which gives us the root of the base
\begin{itemize}
\item $4^{1/2} = \sqrt{4} = 2$; $81^{1/4} = \sqrt[4]{81} = 3$
\end{itemize}
\item[]
\item Multiplying different bases: first manipulate the exponent so the bases are equal, then add exponents
\begin{itemize}
\item $2^3 \times 4^5 = 2^3 \times (2^2)^5 = 2^3 \times 2^{10} = 2^{13}$
\end{itemize}
\end{itemize}
\end{frame}

\myframe{Exponent identities}
\begin{itemize}
\item For all $b,c \neq 0$:
\begin{itemize}
\item $b^{m+n} = b^m \times b^n$
\item[]
\item $b^{m \times n} = (b^m)^n$
\item[]
\item $(b\times c)^n = b^n \times c^n$
\end{itemize}
\end{itemize}
\end{frame}

\myframe{Example: integer exponent properties and identities}
\begin{itemize}
\item Take $b = 2$
\item[]
\item $2^0 = 1$
\item[]
\item $2^1 = 2$
\item[]
\item $2^2 = 2 \times 2$
\item[]
\item $2^3 = 2^2 \times 2 = 8$
\item[]
\item $(2 \times 3)^2 = 2^2 \times 3^2 = 4 \times 9 = 36$ (check: $2 \times 3 = 6, 6^2 = 36$)
\end{itemize}
\end{frame}

\myframe{Rational exponents (roots)}
\begin{itemize}
\item $n$th root of $b$: the number $x$ such that $x^n = b$ 
\item[]
\item Written as $b^{1/n}$ or $\sqrt[n]{b}$
\item[]
\item Some identities (for $b$ positive):
\begin{itemize}
\item $b = (b^n)^{1/n}$
\item[]
\item $b^{m/n} = (b^m)^{1/n} = \sqrt[n]{b^m}$
\end{itemize}
\item[]
\item Example: $\sqrt{1/(36 x^2)} = \dfrac{\sqrt{1}}{\sqrt{36x^2}} = \dfrac{1}{\sqrt{36}\sqrt{x^2}} = \dfrac{1}{6x}$
\end{itemize}
\end{frame}

\myframe{Exponential function}
\begin{itemize}
\item An important constant: $e$, approximately $2.718$
\item[]
\item Useful as a base for powers
\item[]
\item Define $\exp(x) = e^x$
\item[]
\item Useful identity: $\exp(x+y) = e^{x+y} =  \exp(x)\times \exp(y)$
\end{itemize}
\end{frame}

\myframe{Exercise: exponents and the exponential function}
\begin{enumerate}
\item What is the result of $x^2$ multiplied by $x^3$?
\item[]
\item $(x^{-2})^4 = $?
\item[]
\item $\exp(x - y) = $?
\end{enumerate}
\end{frame}

\myframe{Solutions: exponents and the exponential function}
\begin{enumerate}
\item $x^2 \times x^3 = x^5$, since we add the exponents when we multiply
\item[]
\item $(x^{-2})^4 = x^{-2 \times 4} = x^{-8}$
\item[]
\item $\exp(x - y) = e^{x - y} = e^x \times e^{-y} = e^x/e^y = \exp(x)/\exp(y)$
\end{enumerate}
\end{frame}

\section{Logs}
\myframe{Logarithms}
\begin{itemize}
\item Exponents correspond to multiplication
\item[]
\item Addition is easier than multiplication
\item[]
\item Logarithms (logs) transform multiplication into addition!
\end{itemize}
\end{frame}

\myframe{Logs: definition}
\begin{itemize}
\item Defined as the inverse operation of exponentiation
\item[]
\item Takes a base $b$ and a number $x$
\item[]
\item The log of $x$ to base $b$ is the number $y$ such that $b^y = x$
\item[]
\item Written as $\log_b(x) = y$
\item[]
\item Natural log: $\log_e(x)$, commonly written $\log(x)$
\end{itemize}
\end{frame}

\myframe{Logs: definition}
\begin{itemize}
\item Undefined for $x \leq 0$
\item[]
\item Log is an increasing function: as $x$ increases, $\log_b(x)$  increases
\item[]
\item $\log_b(b) = 1$
\end{itemize}
\end{frame}

\myframe{Logs: identities}
\begin{itemize}
\item Multiplication: $\log_b(xy) = \log_b(x) + \log_b(y)$
\item[]
\item Division: for $y \neq 0$, $\log_b(x/y) = \log_b(x) - \log_b(y)$
\item[]
\item Powers: $\log_b(x^p) = p \log_b(x)$
\item[]
\item Roots: for $p \neq 0$, $\log_b(x^{1/p}) = \log_b(x)/p$
\item[]
\item Inverse function: $\log_b(b^x) = x\log_b(b) = x$
\end{itemize}
\end{frame}

\myframe{Example: log identities}
\begin{itemize}
\item Multiplication: $\log (2 \times 3) = \log (2) + \log (3) = \log (6)$
\item[]
\item Logs of numbers $< 1$ are negative: $\log (2/3) = \log (2) - \log (3) < 0$
\item[]
\item Power: $\log (x^2) = 2\log (x)$
\end{itemize}
\end{frame}

\myframe{Common bases, changing base}
\begin{itemize}
\item The three most common bases: $e$, $10$, and $2$
\item[]
\item $e$ --- common in mathematics
\item[]
\item 10 --- common for calculating numbers in the decimal system
\item[]
\item 2 --- common in computer science
\item[]
\item Changing between bases: $\log_b(x) = \dfrac{\log_k(x)}{\log_k(b)}$
\end{itemize}
\end{frame}

\myframe{$\exp(\cdot)$ and $\log(\cdot)$}
\begin{itemize}
\item Recall $\exp(x) = e^x$
\item[]
\item Natural log: $\log (x) = \log_e(x)$
\item[]
\item So $x = \log [\exp(x)]$! And $x = \exp[\log(x)]$!
\end{itemize}
\end{frame}

\myframe{Exercise: logarithms}
\begin{enumerate}
\item $\log(xy) = $?
\item[]
\item $\log(x/y) = $?
\item[]
\item $\log[\exp(2x)] = $?
\item[]
\item $\exp[\log(x^2)] = $?
\end{enumerate}
\end{frame}

\myframe{Solutions: logarithms}
\begin{enumerate}
\item $\log(xy) = \log(x) + \log(y)$
\item[]
\item $\log(x/y) = \log(x) - \log(y)$
\item[]
\item $\log[\exp(2x)] = 2x$
\item[]
\item $\exp[\log(x^2)] = \exp[2\log(x)] = \exp(2)\exp[\log(x)] = x\exp(2)$
\end{enumerate}
\end{frame}

\myframe{Uses of logarithms in statistics}
\begin{itemize}
\item Transformation of the data --- look at a multiplicative relationship rather than an additive relationship
\item[]
\item Logistic regression, Poisson regression
\item[]
\item For more, see BIOST 512/513!
\end{itemize}
\end{frame}

\myframe{Summary}
\begin{itemize}
\item Exponentiation: can create terms of higher order (larger exponent) than linear terms (exponent 1)
\item[]
\item Logarithms: turn multiplication into addition, using a base
\item[]
\item Most common base: $e$
\item[]
\item Useful for transforming data or different types of regression (logistic, Poisson)
\end{itemize}
\end{frame}
\end{document}
